{"version":3,"file":"pages-reset-password.js","mappings":"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","sources":["webpack://bay-rewrite/./app/pages/reset-password/index.jsx"],"sourcesContent":["/*\n * Copyright (c) 2021, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nimport React, {useState} from 'react'\nimport PropTypes from 'prop-types'\nimport {FormattedMessage} from 'react-intl'\nimport {Box, Button, Container, Stack, Text} from '@chakra-ui/react'\nimport useCustomer from '../../commerce-api/hooks/useCustomer'\nimport Seo from '../../components/seo'\nimport {useForm} from 'react-hook-form'\nimport ResetPasswordForm from '../../components/reset-password'\nimport {BrandLogo} from '../../components/icons'\nimport useNavigation from '../../hooks/use-navigation'\n\nconst ResetPassword = () => {\n    const customer = useCustomer()\n    const form = useForm()\n    const navigate = useNavigation()\n    const [submittedEmail, setSubmittedEmail] = useState('')\n    const [showSubmittedSuccess, setShowSubmittedSuccess] = useState(false)\n\n    const submitForm = async ({email}) => {\n        try {\n            await customer.getResetPasswordToken(email)\n            setSubmittedEmail(email)\n            setShowSubmittedSuccess(!showSubmittedSuccess)\n        } catch (error) {\n            form.setError('global', {type: 'manual', message: error.message})\n        }\n    }\n\n    return (\n        <Box data-testid=\"reset-password-page\" bg=\"gray.50\" py={[8, 16]}>\n            <Seo title=\"Reset password\" description=\"Reset customer password\" />\n            <Container\n                paddingTop={16}\n                width={['100%', '407px']}\n                bg=\"white\"\n                paddingBottom={14}\n                marginTop={8}\n                marginBottom={8}\n                borderRadius=\"base\"\n            >\n                {!showSubmittedSuccess ? (\n                    <ResetPasswordForm\n                        form={form}\n                        submitForm={submitForm}\n                        clickSignIn={() => navigate('/login')}\n                    />\n                ) : (\n                    <Stack justify=\"center\" align=\"center\" spacing={6}>\n                        <BrandLogo width=\"60px\" height=\"auto\" />\n                        <Text align=\"center\" fontSize=\"md\">\n                            <FormattedMessage defaultMessage={'Password Reset'} />\n                        </Text>\n                        <Stack spacing={6} pt={4}>\n                            <Text align=\"center\" fontSize=\"sm\">\n                                <FormattedMessage\n                                    defaultMessage=\"You will receive an email at <b>{email}</b> with a link to reset your password shortly.\"\n                                    values={{\n                                        email: submittedEmail,\n                                        // eslint-disable-next-line react/display-name\n                                        b: (chunks) => <b>{chunks}</b>\n                                    }}\n                                />\n                            </Text>\n                            <Button onClick={() => navigate('/login')}>\n                                <FormattedMessage defaultMessage=\"Back to sign in\" />\n                            </Button>\n                        </Stack>\n                    </Stack>\n                )}\n            </Container>\n        </Box>\n    )\n}\n\nResetPassword.getTemplateName = () => 'reset-password'\n\nResetPassword.propTypes = {\n    match: PropTypes.object\n}\n\nexport default ResetPassword\n"],"names":["React","useState","PropTypes","FormattedMessage","Box","Button","Container","Stack","Text","useCustomer","Seo","useForm","ResetPasswordForm","BrandLogo","useNavigation","ResetPassword","customer","form","navigate","submittedEmail","setSubmittedEmail","showSubmittedSuccess","setShowSubmittedSuccess","submitForm","email","getResetPasswordToken","error","setError","type","message","b","chunks","getTemplateName","propTypes","match","object"],"sourceRoot":""}