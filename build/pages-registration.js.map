{"version":3,"file":"pages-registration.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMU,YAAY,GAAG,MAAM;AACvB,QAAMC,QAAQ,GAAGF,iEAAa,EAA9B;AACA,QAAMG,QAAQ,GAAGP,2EAAW,EAA5B;AACA,QAAMQ,IAAI,GAAGN,wDAAO,EAApB;;AAEA,QAAMO,UAAU;AAAA,mGAAG,WAAOC,IAAP,EAAgB;AAC/B,UAAI;AACA,cAAMH,QAAQ,CAACI,gBAAT,CAA0BD,IAA1B,CAAN;AACH,OAFD,CAEE,OAAOE,KAAP,EAAc;AACZJ,QAAAA,IAAI,CAACK,QAAL,CAAc,QAAd,EAAwB;AAACC,UAAAA,IAAI,EAAE,QAAP;AAAiBC,UAAAA,OAAO,EAAEH,KAAK,CAACG;AAAhC,SAAxB;AACH;AACJ,KANe;;AAAA,oBAAVN,UAAU;AAAA;AAAA;AAAA,KAAhB,CALuB,CAavB;;;AACAb,EAAAA,gDAAS,CAAC,MAAM;AACZ,QAAIW,QAAQ,CAACS,QAAT,IAAqB,IAArB,IAA6BT,QAAQ,CAACU,YAA1C,EAAwD;AACpDX,MAAAA,QAAQ,CAAC,UAAD,CAAR;AACH;AACJ,GAJQ,EAIN,CAACC,QAAD,CAJM,CAAT;AAMA,sBACI,iDAAC,iDAAD;AAAK,mBAAY,mBAAjB;AAAqC,MAAE,EAAC,SAAxC;AAAkD,MAAE,EAAE,CAAC,CAAD,EAAI,EAAJ;AAAtD,kBACI,iDAAC,uDAAD;AAAK,SAAK,EAAC,cAAX;AAA0B,eAAW,EAAC;AAAtC,IADJ,eAEI,iDAAC,uDAAD;AACI,cAAU,EAAE,EADhB;AAEI,SAAK,EAAE,CAAC,MAAD,EAAS,OAAT,CAFX;AAGI,MAAE,EAAC,OAHP;AAII,iBAAa,EAAE,EAJnB;AAKI,aAAS,EAAE,CALf;AAMI,gBAAY,EAAE,CANlB;AAOI,gBAAY,EAAC;AAPjB,kBASI,iDAAC,4DAAD;AACI,cAAU,EAAEE,UADhB;AAEI,QAAI,EAAED,IAFV;AAGI,eAAW,EAAE,MAAMF,QAAQ,CAAC,QAAD;AAH/B,IATJ,CAFJ,CADJ;AAoBH,CAxCD;;AA0CAD,YAAY,CAACa,eAAb,GAA+B,MAAM,cAArC;;AAEAb,YAAY,CAACc,SAAb,GAAyB;AACrBC,EAAAA,KAAK,EAAEvB,0DAAgBwB;AADF,CAAzB;AAIA,+DAAehB,YAAf","sources":["webpack://bay-rewrite/./app/pages/registration/index.jsx"],"sourcesContent":["/*\n * Copyright (c) 2021, salesforce.com, inc.\n * All rights reserved.\n * SPDX-License-Identifier: BSD-3-Clause\n * For full license text, see the LICENSE file in the repo root or https://opensource.org/licenses/BSD-3-Clause\n */\n\nimport React, {useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport {Box, Container} from '@chakra-ui/react'\nimport useCustomer from '../../commerce-api/hooks/useCustomer'\nimport Seo from '../../components/seo'\nimport {useForm} from 'react-hook-form'\nimport RegisterForm from '../../components/register'\nimport useNavigation from '../../hooks/use-navigation'\n\nconst Registration = () => {\n    const navigate = useNavigation()\n    const customer = useCustomer()\n    const form = useForm()\n\n    const submitForm = async (data) => {\n        try {\n            await customer.registerCustomer(data)\n        } catch (error) {\n            form.setError('global', {type: 'manual', message: error.message})\n        }\n    }\n\n    // If customer is registered push to account page\n    useEffect(() => {\n        if (customer.authType != null && customer.isRegistered) {\n            navigate('/account')\n        }\n    }, [customer])\n\n    return (\n        <Box data-testid=\"registration-page\" bg=\"gray.50\" py={[8, 16]}>\n            <Seo title=\"Registration\" description=\"Customer sign up\" />\n            <Container\n                paddingTop={16}\n                width={['100%', '407px']}\n                bg=\"white\"\n                paddingBottom={14}\n                marginTop={8}\n                marginBottom={8}\n                borderRadius=\"base\"\n            >\n                <RegisterForm\n                    submitForm={submitForm}\n                    form={form}\n                    clickSignIn={() => navigate('/login')}\n                />\n            </Container>\n        </Box>\n    )\n}\n\nRegistration.getTemplateName = () => 'registration'\n\nRegistration.propTypes = {\n    match: PropTypes.object\n}\n\nexport default Registration\n"],"names":["React","useEffect","PropTypes","Box","Container","useCustomer","Seo","useForm","RegisterForm","useNavigation","Registration","navigate","customer","form","submitForm","data","registerCustomer","error","setError","type","message","authType","isRegistered","getTemplateName","propTypes","match","object"],"sourceRoot":""}